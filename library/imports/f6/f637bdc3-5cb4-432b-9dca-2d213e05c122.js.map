{"version":3,"sources":["assets\\Scripts\\demo\\LoopListDemo.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA,oDAA+C;AAEzC,IAAA,KAAwB,EAAE,CAAC,UAAU,EAAnC,OAAO,aAAA,EAAE,QAAQ,cAAkB,CAAC;AAG5C;IAA0C,gCAAM;IAAhD;QAAA,qEAsCC;QArCW,WAAK,GAAe,IAAK,CAAC;;IAqCtC,CAAC;IAnCG,6BAAM,GAAN;QACI,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,MAAM,CAAC,CAAC;QACrC,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAE/D,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC;QAC7C,IAAI,CAAC,KAAK,CAAC,iBAAiB,EAAE,CAAC;QAE/B,IAAI,CAAC,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;QACzD,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,CAAC;QAC7D,IAAI,CAAC,eAAe,EAAE,CAAC;IAC3B,CAAC;IAEO,sCAAe,GAAvB;QACI,0DAA0D;QAC1D,IAAI,IAAI,GAAW,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,GAAG,CAAC,CAAC;QACzE,IAAI,GAAG,GAAW,IAAI,CAAC,KAAK,CAAC,WAAW,CAAC;QACzC,KAAK,IAAI,CAAC,GAAW,CAAC,EAAE,CAAC,GAAG,GAAG,EAAE,CAAC,EAAE,EAAE;YAClC,IAAI,GAAG,GAAiB,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;YACjD,IAAI,IAAI,GAAW,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG,CAAC,CAAC,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC;YAC1D,IAAI,IAAI,GAAG,GAAG,CAAC,KAAK,EAAE,iBAAiB;gBACnC,GAAG,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;iBAClB;gBACD,IAAI,EAAE,GAAW,CAAC,GAAG,CAAC,CAAC,GAAG,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC;gBACnD,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC;aACxB;SACJ;QAED,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,IAAI,GAAG,EAAE,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,mBAAmB,EAAE,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC;IACtG,CAAC;IAEO,qCAAc,GAAtB,UAAuB,KAAa,EAAE,IAAkB;QACpD,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,UAAU,EAAE,GAAG,GAAG,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC;IACzE,CAAC;IArCgB,YAAY;QADhC,OAAO;OACa,YAAY,CAsChC;IAAD,mBAAC;CAtCD,AAsCC,CAtCyC,gBAAM,GAsC/C;kBAtCoB,YAAY","file":"","sourceRoot":"/","sourcesContent":["import UIBase from \"../../FrameWork/ui/UIBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class LoopListDemo extends UIBase {\r\n    private _list: fgui.GList = null!;\r\n\r\n    onLoad() {\r\n        this.loadMainGUI(\"LoopList\", \"Main\");\r\n        this.setGUISize(fgui.GRoot.inst.width, fgui.GRoot.inst.height);\r\n\r\n        this._list = this.getGUIChild(\"list\").asList;\r\n        this._list.setVirtualAndLoop();\r\n\r\n        this._list.itemRenderer = this.renderListItem.bind(this);\r\n        this._list.numItems = 5;\r\n        this._list.on(fgui.Event.SCROLL, this.doSpecialEffect, this);\r\n        this.doSpecialEffect();\r\n    }\r\n\r\n    private doSpecialEffect(): void {\r\n        //change the scale according to the distance to the middle\r\n        var midX: number = this._list.scrollPane.posX + this._list.viewWidth / 2;\r\n        var cnt: number = this._list.numChildren;\r\n        for (var i: number = 0; i < cnt; i++) {\r\n            var obj: fgui.GObject = this._list.getChildAt(i);\r\n            var dist: number = Math.abs(midX - obj.x - obj.width / 2);\r\n            if (dist > obj.width) //no intersection\r\n                obj.setScale(1, 1);\r\n            else {\r\n                var ss: number = 1 + (1 - dist / obj.width) * 0.24;\r\n                obj.setScale(ss, ss);\r\n            }\r\n        }\r\n\r\n        this.getGUIChild(\"n3\").text = \"\" + ((this._list.getFirstChildInView() + 1) % this._list.numItems);\r\n    }\r\n\r\n    private renderListItem(index: number, item: fgui.GButton): void {\r\n        item.setPivot(0.5, 0.5);\r\n        item.icon = fgui.UIPackage.getItemURL(\"LoopList\", \"n\" + (index + 1));\r\n    }\r\n}\r\n\r\n"]}