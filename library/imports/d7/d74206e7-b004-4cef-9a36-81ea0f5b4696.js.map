{"version":3,"sources":["assets\\Scripts\\demo\\ScrollPaneDemo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIBase from \"../../FrameWork/ui/UIBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class ScrollPaneDemo extends UIBase {\r\n    private _list: fgui.GList = null!;\r\n\r\n    onLoad() {\r\n        this.loadMainGUI(\"ScrollPane\", \"Main\");\r\n        this.guiMakeFullScreen();\r\n\r\n        this._list = this.getGUIChild(\"list\").asList;\r\n        this._list.itemRenderer = this.renderListItem.bind(this);\r\n        this._list.setVirtual();\r\n        this._list.numItems = 1000;\r\n        this._list.on(fgui.Event.TOUCH_BEGIN, this.onClickList, this);\r\n    }\r\n\r\n    private renderListItem(index: number, item: fgui.GButton) {\r\n        item.title = \"Item \" + index;\r\n        item.scrollPane.posX = 0; //reset scroll pos\r\n\r\n        item.getChild(\"b0\").onClick(this.onClickStick, this);\r\n        item.getChild(\"b1\").onClick(this.onClickDelete, this);\r\n    }\r\n\r\n    private onClickList(evt: fgui.Event) {\r\n        //点击列表时，查找是否有项目处于编辑状态， 如果有就归位\r\n        let cnt = this._list.numChildren;\r\n        for (let i: number = 0; i < cnt; i++) {\r\n            let item: fgui.GButton = this._list.getChildAt(i).asButton;\r\n            if (item.scrollPane.posX != 0) {\r\n                //Check if clicked on the button\r\n                if (item.getChild(\"b0\").asButton.isAncestorOf(fgui.GRoot.inst.touchTarget)\r\n                    || item.getChild(\"b1\").asButton.isAncestorOf(fgui.GRoot.inst.touchTarget)) {\r\n                    return;\r\n                }\r\n                item.scrollPane.setPosX(0, true);\r\n\r\n                //取消滚动面板可能发生的拉动。\r\n                item.scrollPane.cancelDragging();\r\n                this._list.scrollPane.cancelDragging();\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    private onClickStick(evt: fgui.Event) {\r\n        this.getGUIChild(\"txt\").text = \"Stick \" + evt.initiator!.parent.text;\r\n    }\r\n\r\n    private onClickDelete(evt: fgui.Event) {\r\n        this.getGUIChild(\"txt\").text = \"Delete \" + evt.initiator!.parent.text;\r\n    }\r\n}\r\n"]}