{"version":3,"sources":["assets\\Scripts\\GameApp.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\r\n\r\nimport { ResManagerPro } from \"../FrameWork/manager/ResManagerPro\";\r\nimport { UIManager } from \"../FrameWork/manager/UIManager\";\r\nimport { UIManagerPro } from \"../FrameWork/manager/UIManagerPro\";\r\nimport MapDataManager from \"./Manager/MapDataManager\";\r\n\r\nconst {ccclass, property} = cc._decorator;\r\n\r\n@ccclass\r\nexport default class GameApp extends cc.Component {\r\n    private static _instance:GameApp=null\r\n    private canvas:cc.Node=null\r\n    private progressBar:cc.ProgressBar=null\r\n    private Loading:cc.Node=null\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    public static getInstance():GameApp{\r\n        return GameApp._instance\r\n    }\r\n\r\n    public enterGame():void{\r\n        \r\n    }\r\n\r\n    public async startGame(){\r\n        await ResManagerPro.Instance.IE_LoadBundleAndAllAssets(\"data\",cc.JsonAsset);\r\n        this.progressBar.progress=0.3;\r\n        await ResManagerPro.Instance.IE_LoadBundleAndAllAssets(\"texture\",cc.SpriteAtlas);\r\n        this.progressBar.progress=0.5;\r\n        await ResManagerPro.Instance.IE_LoadBundleAndAllAssets(\"Sounds\",cc.AudioClip);\r\n        this.progressBar.progress=0.8;\r\n        await ResManagerPro.Instance.IE_LoadBundleAndAllAssets(\"prefabs\",cc.Prefab);\r\n        \r\n        await MapDataManager.getInstance().loadData();\r\n        var blockMapData= MapDataManager.getInstance().getCurBlockData();\r\n        await MapDataManager.getInstance().buildBlockMap(0,blockMapData);\r\n\r\n        MapDataManager.getInstance().beginCreateMonster();\r\n\r\n        await UIManagerPro.getInstance().showPrefab(\"GameUI\");\r\n\r\n        this.progressBar.progress=1;\r\n        this.Loading.active=false;\r\n    }\r\n\r\n    onLoad () {\r\n        if(null===GameApp._instance){\r\n            GameApp._instance=this\r\n        }\r\n        else{\r\n            this.destroy()\r\n            return\r\n        }\r\n\r\n        this.canvas=cc.find(\"Canvas\")\r\n        this.Loading=this.canvas.getChildByName(\"Loading\");\r\n        this.progressBar=this.Loading.getChildByName(\"myProgressBar\").getComponent(cc.ProgressBar)\r\n        this.progressBar.progress=0\r\n    }\r\n\r\n    start () {\r\n\r\n    }\r\n\r\n    // update (dt) {}\r\n}\r\n"]}