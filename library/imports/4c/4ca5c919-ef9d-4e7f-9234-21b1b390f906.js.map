{"version":3,"sources":["assets\\Scripts\\demo\\TransitionDemo.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["import UIBase from \"../../FrameWork/ui/UIBase\";\r\n\r\nconst { ccclass, property } = cc._decorator;\r\n\r\n@ccclass\r\nexport default class TransitionDemo extends UIBase {\r\n    private _btnGroup: fgui.GGroup = null!;\r\n    private _g1: fgui.GComponent = null!;\r\n    private _g2: fgui.GComponent = null!;\r\n    private _g3: fgui.GComponent = null!;\r\n    private _g4: fgui.GComponent = null!;\r\n    private _g5: fgui.GComponent = null!;\r\n    private _g6: fgui.GComponent = null!;\r\n\r\n    private _startValue: number = 0;\r\n    private _endValue: number = 0;\r\n\r\n    onLoad() {\r\n        this.loadMainGUI(\"Transition\", \"Main\");\r\n        this.guiMakeFullScreen();\r\n\r\n        this._btnGroup = this.getGUIChild(\"g0\").asGroup;\r\n\r\n        this._g1 = fgui.UIPackage.createObject(\"Transition\", \"BOSS\").asCom;\r\n        this._g2 = fgui.UIPackage.createObject(\"Transition\", \"BOSS_SKILL\").asCom;\r\n        this._g3 = fgui.UIPackage.createObject(\"Transition\", \"TRAP\").asCom;\r\n        this._g4 = fgui.UIPackage.createObject(\"Transition\", \"GoodHit\").asCom;\r\n        this._g5 = fgui.UIPackage.createObject(\"Transition\", \"PowerUp\").asCom;\r\n        this._g6 = fgui.UIPackage.createObject(\"Transition\", \"PathDemo\").asCom;\r\n\r\n        //play_num_now是在编辑器里设定的名称，这里表示播放到'play_num_now'这个位置时才开始播放数字变化效果\r\n        this._g5.getTransition(\"t0\").setHook(\"play_num_now\", this.__playNum.bind(this));\r\n\r\n        this.getGUIChild(\"btn0\").onClick(() => { this.__play(this._g1); });\r\n        this.getGUIChild(\"btn1\").onClick(() => { this.__play(this._g2); });\r\n        this.getGUIChild(\"btn2\").onClick(() => { this.__play(this._g3); });\r\n        this.getGUIChild(\"btn3\").onClick(this.__play4, this);\r\n        this.getGUIChild(\"btn4\").onClick(this.__play5, this);\r\n        this.getGUIChild(\"btn5\").onClick(() => { this.__play(this._g6); });\r\n    }\r\n\r\n    private __play(target: fgui.GComponent): void {\r\n        this._btnGroup.visible = false;\r\n        fgui.GRoot.inst.addChild(target);\r\n        var t: fgui.Transition = target.getTransition(\"t0\");\r\n        t.play(() => {\r\n            this._btnGroup.visible = true;\r\n            fgui.GRoot.inst.removeChild(target);\r\n        });\r\n    }\r\n\r\n    private __play4(): void {\r\n        this._btnGroup.visible = false;\r\n        this._g4.x = fgui.GRoot.inst.width - this._g4.width - 20;\r\n        this._g4.y = 100;\r\n        fgui.GRoot.inst.addChild(this._g4);\r\n        var t: fgui.Transition = this._g4.getTransition(\"t0\");\r\n        //播放3次\r\n        t.play(() => {\r\n            this._btnGroup.visible = true;\r\n            fgui.GRoot.inst.removeChild(this._g4);\r\n        }, 3);\r\n    }\r\n\r\n    private __play5(): void {\r\n        this._btnGroup.visible = false;\r\n        this._g5.x = 20;\r\n        this._g5.y = fgui.GRoot.inst.height - this._g5.height - 100;\r\n        fgui.GRoot.inst.addChild(this._g5);\r\n        var t: fgui.Transition = this._g5.getTransition(\"t0\");\r\n        this._startValue = 10000;\r\n        var add: number = Math.ceil(Math.random() * 2000 + 1000);\r\n        this._endValue = this._startValue + add;\r\n        this._g5.getChild(\"value\").text = \"\" + this._startValue;\r\n        this._g5.getChild(\"add_value\").text = \"+\" + add;\r\n        t.play(() => {\r\n            this._btnGroup.visible = true;\r\n            fgui.GRoot.inst.removeChild(this._g5);\r\n        });\r\n    }\r\n\r\n    private __playNum(): void {\r\n        //这里演示了一个数字变化的过程\r\n        fgui.GTween.to(this._startValue, this._endValue, 0.3)\r\n            .setEase(fgui.EaseType.Linear)\r\n            .onUpdate((tweener: fgui.GTweener) => {\r\n                this._g5.getChild(\"value\").text = \"\" + Math.floor(tweener.value.x);\r\n            });\r\n    }\r\n}\r\n\r\n"]}