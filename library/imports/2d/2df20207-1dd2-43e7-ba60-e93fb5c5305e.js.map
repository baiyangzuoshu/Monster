{"version":3,"sources":["assets\\Scripts\\ECS\\Systems\\CollectHitSystem.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAIA;IAA8C,oCAAY;IAA1D;;IA6BA,CAAC;IA1BiB,4BAAW,GAAzB;QACI,OAAO,gBAAgB,CAAC,SAAS,CAAA;IACrC,CAAC;IAED,iCAAM,GAAN;QACI,IAAG,IAAI,KAAG,gBAAgB,CAAC,SAAS,EAAC;YACjC,gBAAgB,CAAC,SAAS,GAAC,IAAI,CAAA;SAClC;aACG;YACA,IAAI,CAAC,OAAO,EAAE,CAAA;YACd,OAAM;SACT;IACL,CAAC;IAED,mCAAQ,GAAR,UAAU,EAAS,EAAC,MAAc,EAAC,cAA6B,EAAC,kBAAqC,EAAC,aAA2B;QAC9H,IAAG,aAAa,CAAC,MAAM,EAAC;YACpB,OAAO;SACV;QAED,IAAI,IAAI,GAAC,IAAI,EAAE,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC,GAAC,cAAc,CAAC,KAAK,GAAC,CAAC,EAAC,kBAAkB,CAAC,CAAC,GAAC,cAAc,CAAC,MAAM,GAAC,CAAC,EAAC,cAAc,CAAC,KAAK,EAAC,cAAc,CAAC,MAAM,CAAC,CAAC;QAC1J,IAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,EAAC;YACrB,OAAO,IAAI,CAAC;SACf;QAED,OAAO,KAAK,CAAC;IACjB,CAAC;IA1Bc,0BAAS,GAAkB,IAAI,CAAA;IA2BlD,uBAAC;CA7BD,AA6BC,CA7B6C,EAAE,CAAC,SAAS,GA6BzD;kBA7BoB,gBAAgB","file":"","sourceRoot":"/","sourcesContent":["import ShapeComponent from \"../Components/ShapeComponent\"\nimport TransformComponent from \"../Components/TransformComponent\"\nimport UnitComponent from \"../Components/UnitComponent\"\n\nexport default class CollectHitSystem extends cc.Component {\n\n    private static _instance:CollectHitSystem=null\n    public static getInstance():CollectHitSystem{\n        return CollectHitSystem._instance\n    }\n\n    onLoad () {\n        if(null===CollectHitSystem._instance){\n            CollectHitSystem._instance=this\n        }\n        else{\n            this.destroy()\n            return\n        }\n    }\n\n    onUpdate (dt:number,hitPos:cc.Vec2,shapeComponent:ShapeComponent,transformComponent:TransformComponent,unitComponent:UnitComponent) {\n        if(unitComponent.isDead){\n            return;\n        }\n\n        let rect=new cc.Rect(transformComponent.x-shapeComponent.width/2,transformComponent.y-shapeComponent.height/2,shapeComponent.width,shapeComponent.height);\n        if(rect.contains(hitPos)){\n            return true;\n        }\n\n        return false;\n    }\n}\n"]}