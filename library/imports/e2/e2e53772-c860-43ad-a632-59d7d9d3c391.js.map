{"version":3,"sources":["assets\\Scripts\\UI\\BossUIControl.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["// Learn TypeScript:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/typescript.html\n// Learn Attribute:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/reference/attributes.html\n// Learn life-cycle callbacks:\n//  - https://docs.cocos.com/creator/2.4/manual/en/scripting/life-cycle-callbacks.html\n\nimport { ResManagerPro } from \"../../FrameWork/manager/ResManagerPro\";\nimport { UIControl } from \"../../FrameWork/ui/UIControl\";\nimport DataManager from \"../data/DataManager\";\nimport PlayerDataManager from \"../Manager/PlayerDataManager\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class BossUIControl extends UIControl {\n    m_labLevel:cc.Label=null;\n    m_bossName:cc.Label=null;\n    m_bossSprite:cc.Sprite=null;\n    m_anim:cc.Animation=null;\n    m_callBack:Function=null;\n    // LIFE-CYCLE CALLBACKS:\n\n    onLoad () {\n        super.onLoad();\n        this.m_anim = this.node.getComponent(cc.Animation);\n        this.m_labLevel=this.getChildByUrl(\"labLevel\").getComponent(cc.Label);\n        this.m_bossName=this.getChildByUrl(\"bossName\").getComponent(cc.Label);\n        this.m_bossSprite=this.getChildByUrl(\"bossSprite\").getComponent(cc.Sprite);\n\n    }\n\n    async play(callFunc){\n        //设置关卡\n        var checkPoint = PlayerDataManager.getInstance().getCheckPoint();\n        this.m_labLevel.string = ''+(checkPoint.big+1);\n        this.m_labLevel.string += '-';\n        this.m_labLevel.string += (checkPoint.small+1);\n        \n        var id = 0;\n        var monster = DataManager.getInstance().getCurMonsterData();\n        for (let i = 0; i < monster.length; i++) {\n            if( monster[i].type == 2 ){\n                id = monster[i].id;\n                break;\n            }\n            \n        }\n        var name = DataManager.getInstance().getBossNameByID(id);\n        this.m_bossName.string = name;\n        let m_bossAtlas=await ResManagerPro.Instance.IE_GetAsset(\"texture\",\"monster/monster_2\",cc.SpriteAtlas) as cc.SpriteAtlas;\n        var frame = m_bossAtlas.getSpriteFrame(id.toString());\n        this.m_bossSprite.spriteFrame = frame;\n        this.node.active = true;\n        this.m_anim.play('bossView');\n        this.m_callBack = callFunc;\n    }\n\n    end(){\n        this.node.active = false;\n\n        if( this.m_callBack != null ){\n            this.m_callBack();\n        }\n    }\n}\n"]}